# üìä Rossmann Sales Recommendation System - Project Overview

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –¥–ª—è —Å–µ—Ç–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤ Rossmann –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.

## üìã –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ **100% –ó–ê–í–ï–†–®–ï–ù–û**

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ chapter3.tex —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    üåê REST API Layer (FastAPI)                   ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Endpoints:                                                      ‚îÇ
‚îÇ    ‚Ä¢ POST /predict          ‚Üí –ü—Ä–æ–≥–Ω–æ–∑ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏            ‚îÇ
‚îÇ    ‚Ä¢ POST /predict/detailed ‚Üí –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑                  ‚îÇ
‚îÇ    ‚Ä¢ GET  /health          ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è                 ‚îÇ
‚îÇ    ‚Ä¢ GET  /docs            ‚Üí Swagger UI                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              üéº RecommendationService (Orchestrator)             ‚îÇ
‚îÇ                     –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ         ‚îÇ          ‚îÇ              ‚îÇ          ‚îÇ
     ‚ñº         ‚ñº          ‚ñº              ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÇ Data ‚îÇ ‚îÇ üîß Feat‚îÇ ‚îÇ ü§ñ ML  ‚îÇ ‚îÇ üîç Similar ‚îÇ ‚îÇ üìú Rule‚îÇ
‚îÇ Loader  ‚îÇ ‚îÇ Engineer‚îÇ ‚îÇ Model  ‚îÇ ‚îÇ Service    ‚îÇ ‚îÇ Engine ‚îÇ
‚îÇ         ‚îÇ ‚îÇ        ‚îÇ ‚îÇXGBoost ‚îÇ ‚îÇ    KNN     ‚îÇ ‚îÇ 4 Rules‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   üóÑÔ∏è PostgreSQL Database                         ‚îÇ
‚îÇ     ‚Ä¢ sales table  (~1M records)                                 ‚îÇ
‚îÇ     ‚Ä¢ stores table (~1K records)                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. üìÇ DataLoader
- **–§–∞–π–ª**: `app/models/data_loader.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ PostgreSQL
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
  - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü sales + stores

### 2. üîß FeatureEngineer
- **–§–∞–π–ª**: `app/models/feature_engineer.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (DayOfWeek, Month, etc.)
  - –ü—Ä–∏–∑–Ω–∞–∫–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ (CompetitionMonthsOpen)
  - –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–º–æ (Promo2LastsForNWeeks)
  - One-Hot encoding
  - StandardScaler –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### 3. ü§ñ SalesForecaster
- **–§–∞–π–ª**: `app/models/sales_forecaster.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–¥–∞–∂ (XGBoost)
  - –ú–æ–∫-–º–æ–¥–µ–ª—å –¥–ª—è –¥–µ–º–æ
  - –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### 4. üîç SimilarityService
- **–§–∞–π–ª**: `app/models/similarity_service.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - K-–±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π (K=5)
  - –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
  - –†–∞—Å—á–µ—Ç benchmark —É—Ä–æ–≤–Ω—è

### 5. üìú RuleEngine
- **–§–∞–π–ª**: `app/models/rule_engine.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –ü—Ä–∞–≤–∏–ª–æ 1: –û—Ç—Å—Ç–∞–≤–∞–Ω–∏–µ –æ—Ç –ø–æ—Ö–æ–∂–∏—Ö
  - –ü—Ä–∞–≤–∏–ª–æ 2: –ü—Ä–æ–º–æ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
  - –ü—Ä–∞–≤–∏–ª–æ 3: –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–∞—è —Å—Ä–µ–¥–∞
  - –ü—Ä–∞–≤–∏–ª–æ 4: –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å

### 6. üéº RecommendationService
- **–§–∞–π–ª**: `app/models/recommendation_service.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
  - –ü–æ–ª–Ω—ã–π workflow –ø—Ä–æ–≥–Ω–æ–∑–∞
  - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

### 7. üåê FastAPI Application
- **–§–∞–π–ª**: `app/main.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - REST API endpoints
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (Pydantic)
  - –ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger)

### 8. üóÑÔ∏è Database Layer
- **–§–∞–π–ª**: `app/database.py`
- **–§—É–Ω–∫—Ü–∏–∏**:
  - SQLAlchemy ORM
  - –ú–æ–¥–µ–ª–∏ Sale –∏ Store
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏

## üìä Workflow –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

```
1. –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST /predict
   ‚Üì
   {store_id: 1, date: "2015-08-01", promo: 1}
   
2. DataLoader –∑–∞–≥—Ä—É–∂–∞–µ—Ç info –º–∞–≥–∞–∑–∏–Ω–∞ –∏–∑ –ë–î
   ‚Üì
   StoreType="a", Assortment="c", CompetitionDistance=1200...
   
3. FeatureEngineer —Å–æ–∑–¥–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   ‚Üì
   [0.2, 0.8, 1.0, 0.0, 0.3, ...] (30+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤)
   
4. SalesForecaster –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑
   ‚Üì
   forecast = 7542.30
   
5. SimilarityService –Ω–∞—Ö–æ–¥–∏—Ç 5 –ø–æ—Ö–æ–∂–∏—Ö –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
   ‚Üì
   similar_sales = [8100, 7950, 8200, 8150, 8000]
   
6. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è benchmark
   ‚Üì
   benchmark = mean(similar_sales) = 8080.00
   
7. RuleEngine –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞
   ‚Üì
   recommendations = [
     "Revenue is below typical (7542 vs 8080)...",
     "75% of successful cases had promo..."
   ]
   
8. –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –æ—Ç–≤–µ—Ç
   ‚Üì
   {
     "forecast_sales": 7542.30,
     "benchmark_sales": 8080.00,
     "recommendations": [...]
   }
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
cd project
pip install -r requirements.txt

# 2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
createdb rossmann_db
echo "DATABASE_URL=postgresql://user:pass@localhost/rossmann_db" > .env

# 3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python init_db.py

# 4. –ó–∞–ø—É—Å–∫
python run_server.py
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
python test_api.py

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
curl -X POST "http://localhost:8000/predict" \
  -H "Content-Type: application/json" \
  -d '{"store_id": 1, "date": "2015-08-01", "promo": 1}'

# –ò–ª–∏ Swagger UI
# http://localhost:8000/docs
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ |
|------|-----------|
| `README.md` | üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã |
| `QUICKSTART.md` | ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 —à–∞–≥–æ–≤) |
| `ARCHITECTURE.md` | üèóÔ∏è –ü–æ–¥—Ä–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ |
| `EXAMPLES.md` | üí° 10+ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| `SUMMARY.md` | ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |
| `PROJECT_OVERVIEW.md` | üìä –≠—Ç–æ—Ç —Ñ–∞–π–ª - –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ |

## üéì –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç–µ

### Chapter 3.1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ü–µ–ª–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
‚úÖ **Data Layer** - PostgreSQL + SQLAlchemy  
‚úÖ **Feature/Preprocessing Layer** - FeatureEngineer  
‚úÖ **ML Model Layer** - SalesForecaster (XGBoost)  
‚úÖ **Similarity Service** - SimilarityService (KNN)  
‚úÖ **Rule Engine** - RuleEngine (4 –ø—Ä–∞–≤–∏–ª–∞)  
‚úÖ **API Layer** - FastAPI  

### Chapter 3.2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
‚úÖ **DataLoader** (—Å—Ç—Ä–æ–∫–∏ 47-60)  
‚úÖ **FeatureEngineer** (—Å—Ç—Ä–æ–∫–∏ 72-95)  
‚úÖ **SalesForecaster** (—Å—Ç—Ä–æ–∫–∏ 106-113)  
‚úÖ **SimilarityService** (—Å—Ç—Ä–æ–∫–∏ 125-146)  
‚úÖ **RuleEngine** (—Å—Ç—Ä–æ–∫–∏ 157-189)  
‚úÖ **RecommendationService** (—Å—Ç—Ä–æ–∫–∏ 200-232)  

### Chapter 3.3: REST API –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚úÖ **POST /predict** endpoint (—Å—Ç—Ä–æ–∫–∏ 244-255)  
‚úÖ **FastAPI** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
‚úÖ **Pydantic** —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏  

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –û–ø–µ—Ä–∞—Ü–∏—è | –í—Ä–µ–º—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|-------|------------|
| –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è | 30-60 —Å–µ–∫ | –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ |
| POST /predict | 50-100 –º—Å | –¢–∏–ø–∏—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å |
| POST /predict/detailed | 100-200 –º—Å | –° –¥–æ–ø. —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π |
| KNN-–ø–æ–∏—Å–∫ | ~10 –º—Å | O(log n) —Å–ª–æ–∂–Ω–æ—Å—Ç—å |

## üíæ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ
- Python 3.9+
- PostgreSQL 12+
- 2 GB RAM
- 1 GB disk space

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
- Python 3.10+
- PostgreSQL 14+
- 4 GB RAM
- 2 GB disk space

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-----------|------------|
| **Backend** | Python 3.9+, FastAPI, Uvicorn |
| **Database** | PostgreSQL, SQLAlchemy |
| **ML** | XGBoost, Scikit-Learn |
| **Data** | Pandas, NumPy |
| **Validation** | Pydantic |
| **Testing** | Requests, pytest-ready |

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–¥–∞–∂ –Ω–∞ –æ—Å–Ω–æ–≤–µ XGBoost  
‚úÖ –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ (KNN)  
‚úÖ –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (4 –ø—Ä–∞–≤–∏–ª–∞)  
‚úÖ REST API —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ (Pydantic)  
‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞  
‚úÖ –ú–æ–∫-–º–æ–¥–µ–ª—å –¥–ª—è –¥–µ–º–æ  
‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  

## üîÆ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –î–ª—è production
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] Rate limiting
- [ ] Prometheus –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] CI/CD pipeline

### –î–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- [ ] Batch predictions
- [ ] –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–Ω–¥—ã
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Interactive dashboard
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üìû API Endpoints

### POST `/predict`
–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑ + —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

**Request:**
```json
{
  "store_id": 1,
  "date": "2015-08-01",
  "promo": 1
}
```

**Response:**
```json
{
  "forecast_sales": 7542.30,
  "benchmark_sales": 8125.50,
  "recommendations": ["..."]
}
```

### POST `/predict/detailed`
–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π

### GET `/health`
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

### GET `/docs`
Swagger UI - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
project/
‚îú‚îÄ‚îÄ üìÅ app/                          # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ main.py                      # FastAPI app
‚îÇ   ‚îú‚îÄ‚îÄ database.py                  # PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                   # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ models/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ data_loader.py           # DataLoader
‚îÇ       ‚îú‚îÄ‚îÄ feature_engineer.py      # FeatureEngineer
‚îÇ       ‚îú‚îÄ‚îÄ sales_forecaster.py      # SalesForecaster
‚îÇ       ‚îú‚îÄ‚îÄ similarity_service.py    # SimilarityService
‚îÇ       ‚îú‚îÄ‚îÄ rule_engine.py           # RuleEngine
‚îÇ       ‚îî‚îÄ‚îÄ recommendation_service.py # Orchestrator
‚îÇ
‚îú‚îÄ‚îÄ üìÅ models/                       # ML –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ xgboost_model.pkl           # (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è)
‚îÇ
‚îú‚îÄ‚îÄ üìÑ init_db.py                    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ üìÑ run_server.py                 # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ üìÑ test_api.py                   # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ üìÑ requirements.txt              # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ README.md                    # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ QUICKSTART.md                # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    ‚îú‚îÄ‚îÄ ARCHITECTURE.md              # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
    ‚îú‚îÄ‚îÄ EXAMPLES.md                  # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    ‚îú‚îÄ‚îÄ SUMMARY.md                   # –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç
    ‚îî‚îÄ‚îÄ PROJECT_OVERVIEW.md          # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### 1. –ü—Ä–∏–Ω—Ü–∏–ø —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
–°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —É—Å–ø–µ—à–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö –æ–ø—ã—Ç–∞.

### 2. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
–í–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—ä—è—Å–Ω—è–µ—Ç, *–ø–æ—á–µ–º—É* –∏ *—á—Ç–æ –¥–µ–ª–∞—Ç—å*.

### 3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –º–æ–¥–µ–ª–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### 4. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
REST API –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ–π.

## üéì –î–ª—è –∑–∞—â–∏—Ç—ã –∫—É—Ä—Å–æ–≤–æ–π

### –ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∑–∞—â–∏—Ç–µ:

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —Å—Ö–µ–º–∞ –∏–∑ `ARCHITECTURE.md`
2. **–ö–æ–¥ –º–æ–¥—É–ª–µ–π** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ chapter3.tex
3. **–†–∞–±–æ—Ç–∞—é—â–∏–π API** - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Swagger UI
4. **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞** - curl –∏–ª–∏ `test_api.py`
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - README + QUICKSTART

### –ß—Ç–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å:

- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ chapter3.tex —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–∞–º –∏–∑ —Ä–∞–±–æ—Ç—ã
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–∞—è
- ‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –∏ production

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –∑–∞—â–∏—Ç–µ!**

---

*–°–æ–∑–¥–∞–Ω–æ –¥–ª—è –∫—É—Ä—Å–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã - –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–∞–∂ –¥–ª—è —Å–µ—Ç–∏ –º–∞–≥–∞–∑–∏–Ω–æ–≤ Rossmann*

